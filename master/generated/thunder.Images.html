
<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>thunder.Images</title>
    
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootswatch-3.1.0/simplex/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/styles.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.5.0_dev',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.1.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="top" title="None" href="../index.html" />
    <link rel="up" title="API Reference" href="../api.html" />
    <link rel="next" title="thunder.TimeSeries" href="thunder.TimeSeries.html" />
    <link rel="prev" title="thunder.Series" href="thunder.Series.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head>
  <body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../index.html"><img src="../_static/thunder_logo.png">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>0.5.0_dev</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="../tutorials.html">Tutorials</a></li>
                <li><a href="../api.html">API</a></li>
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul>
<li class="toctree-l1"><a class="reference internal" href="../introduction.html">Introduction to Thunder</a></li>
<li class="toctree-l1"><a class="reference internal" href="../install_local.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../install_ec2.html">Running on EC2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../style_guide.html">Style guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq.html">F.A.Q.</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/freeman-lab/thunder/releases">Release notes</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/basic_usage.html">Basic usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/thunder_context.html">Thunder context</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/input_formats.html">Input formats</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/images.html">Images</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/series.html">Series</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/clustering.html">Clustering</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/factorization.html">Factorization</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../api.html">API Reference</a></li>
<li class="toctree-l1"><a class="reference external" href="https://gitter.im/thunder-project/thunder">Gitter chatroom</a></li>
<li class="toctree-l1"><a class="reference external" href="https://groups.google.com/forum/?hl=en#!forum/thunder-user">Mailing list</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/freeman-lab/thunder">Github repo</a></li>
<li class="toctree-l1"><a class="reference external" href="http://thefreemanlab.com/thunder/">Project page</a></li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#"><tt class="docutils literal"><span class="pre">thunder</span></tt>.Images</a></li>
</ul>
</ul>
</li>
              
            
            
            
            
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12">
      
  <div class="section" id="thunder-images">
<h1><tt class="xref py py-mod docutils literal"><span class="pre">thunder</span></tt>.Images<a class="headerlink" href="#thunder-images" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="thunder.Images">
<em class="property">class </em><tt class="descclassname">thunder.</tt><tt class="descname">Images</tt><big>(</big><em>rdd</em>, <em>dims=None</em>, <em>nrecords=None</em>, <em>dtype=None</em><big>)</big><a class="headerlink" href="#thunder.Images" title="Permalink to this definition">¶</a></dt>
<dd><p>Distributed collection of images or volumes.</p>
<p>Backed by an RDD of key-value pairs, where the key
is an identifier and the value is a two or three-dimensional array.</p>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><tt class="xref py py-obj docutils literal"><span class="pre">__init__</span></tt>(rdd[,&nbsp;dims,&nbsp;nrecords,&nbsp;dtype])</td>
<td></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#thunder.Images.apply" title="thunder.Images.apply"><tt class="xref py py-obj docutils literal"><span class="pre">apply</span></tt></a>(func[,&nbsp;keepDtype,&nbsp;keepIndex])</td>
<td>Apply arbitrary function to records of a Data object.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#thunder.Images.applyKeys" title="thunder.Images.applyKeys"><tt class="xref py py-obj docutils literal"><span class="pre">applyKeys</span></tt></a>(func,&nbsp;**kwargs)</td>
<td>Apply arbitrary function to the keys of a Data object, preserving the values.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#thunder.Images.applyValues" title="thunder.Images.applyValues"><tt class="xref py py-obj docutils literal"><span class="pre">applyValues</span></tt></a>(func,&nbsp;**kwargs)</td>
<td>Apply arbitrary function to the values of a Data object, preserving the keys.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#thunder.Images.astype" title="thunder.Images.astype"><tt class="xref py py-obj docutils literal"><span class="pre">astype</span></tt></a>(dtype[,&nbsp;casting])</td>
<td>Cast values to specified numpy dtype.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#thunder.Images.cache" title="thunder.Images.cache"><tt class="xref py py-obj docutils literal"><span class="pre">cache</span></tt></a>()</td>
<td>Enable in-memory caching.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#thunder.Images.coalesce" title="thunder.Images.coalesce"><tt class="xref py py-obj docutils literal"><span class="pre">coalesce</span></tt></a>(numPartitions)</td>
<td>Coalesce data (used to reduce number of partitions).</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#thunder.Images.collect" title="thunder.Images.collect"><tt class="xref py py-obj docutils literal"><span class="pre">collect</span></tt></a>([sorting])</td>
<td>Return all records to the driver</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#thunder.Images.collectAsArray" title="thunder.Images.collectAsArray"><tt class="xref py py-obj docutils literal"><span class="pre">collectAsArray</span></tt></a>([sorting])</td>
<td>Return all keys and values to the driver as a tuple of numpy arrays</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#thunder.Images.collectKeysAsArray" title="thunder.Images.collectKeysAsArray"><tt class="xref py py-obj docutils literal"><span class="pre">collectKeysAsArray</span></tt></a>([sorting])</td>
<td>Return all values to the driver as a numpy array</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#thunder.Images.collectValuesAsArray" title="thunder.Images.collectValuesAsArray"><tt class="xref py py-obj docutils literal"><span class="pre">collectValuesAsArray</span></tt></a>([sorting])</td>
<td>Return all records to the driver as a numpy array</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#thunder.Images.count" title="thunder.Images.count"><tt class="xref py py-obj docutils literal"><span class="pre">count</span></tt></a>()</td>
<td>Calculates and returns the number of records in the RDD.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#thunder.Images.crop" title="thunder.Images.crop"><tt class="xref py py-obj docutils literal"><span class="pre">crop</span></tt></a>(minbound,&nbsp;maxbound)</td>
<td>Crop a spatial region from 2D or 3D data.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#thunder.Images.exportAsPngs" title="thunder.Images.exportAsPngs"><tt class="xref py py-obj docutils literal"><span class="pre">exportAsPngs</span></tt></a>(outputDirPath[,&nbsp;filePrefix,&nbsp;...])</td>
<td>Write out basic png files for two-dimensional image data.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#thunder.Images.filter" title="thunder.Images.filter"><tt class="xref py py-obj docutils literal"><span class="pre">filter</span></tt></a>(func)</td>
<td>Filter records by appliyng a function to each record.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#thunder.Images.filterOnKeys" title="thunder.Images.filterOnKeys"><tt class="xref py py-obj docutils literal"><span class="pre">filterOnKeys</span></tt></a>(func)</td>
<td>Filter records by applying a function to keys</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#thunder.Images.filterOnValues" title="thunder.Images.filterOnValues"><tt class="xref py py-obj docutils literal"><span class="pre">filterOnValues</span></tt></a>(func)</td>
<td>Filter records by applying a function to values</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#thunder.Images.first" title="thunder.Images.first"><tt class="xref py py-obj docutils literal"><span class="pre">first</span></tt></a>()</td>
<td>Return first record.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#thunder.Images.gaussianFilter" title="thunder.Images.gaussianFilter"><tt class="xref py py-obj docutils literal"><span class="pre">gaussianFilter</span></tt></a>([sigma,&nbsp;order])</td>
<td>Spatially smooth images with a gaussian filter.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#thunder.Images.get" title="thunder.Images.get"><tt class="xref py py-obj docutils literal"><span class="pre">get</span></tt></a>(key)</td>
<td>Returns a single value matching the passed key, or None if no matching keys found.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#thunder.Images.getMany" title="thunder.Images.getMany"><tt class="xref py py-obj docutils literal"><span class="pre">getMany</span></tt></a>(keys)</td>
<td>Returns a sequence of values corresponding to the passed sequence of keys.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#thunder.Images.getRange" title="thunder.Images.getRange"><tt class="xref py py-obj docutils literal"><span class="pre">getRange</span></tt></a>(sliceOrSlices)</td>
<td>Returns key/value pairs that fall within a range given by the passed slice or slices.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#thunder.Images.keys" title="thunder.Images.keys"><tt class="xref py py-obj docutils literal"><span class="pre">keys</span></tt></a>()</td>
<td>Return rdd of keys, ignoring values</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#thunder.Images.max" title="thunder.Images.max"><tt class="xref py py-obj docutils literal"><span class="pre">max</span></tt></a>()</td>
<td>Maximum of values, ignoring keys</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#thunder.Images.maxProjection" title="thunder.Images.maxProjection"><tt class="xref py py-obj docutils literal"><span class="pre">maxProjection</span></tt></a>([axis])</td>
<td>Compute maximum projections of images / volumes along the specified dimension.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#thunder.Images.maxminProjection" title="thunder.Images.maxminProjection"><tt class="xref py py-obj docutils literal"><span class="pre">maxminProjection</span></tt></a>([axis])</td>
<td>Compute maximum-minimum projections of images / volumes along the specified dimension.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#thunder.Images.mean" title="thunder.Images.mean"><tt class="xref py py-obj docutils literal"><span class="pre">mean</span></tt></a>([dtype,&nbsp;casting])</td>
<td>Mean of values, ignoring keys</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#thunder.Images.meanByRegions" title="thunder.Images.meanByRegions"><tt class="xref py py-obj docutils literal"><span class="pre">meanByRegions</span></tt></a>(selection)</td>
<td>Reduces images to one or more spatially averaged values using the given selection, which can be either a mask array or sequence of indicies.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#thunder.Images.medianFilter" title="thunder.Images.medianFilter"><tt class="xref py py-obj docutils literal"><span class="pre">medianFilter</span></tt></a>([size])</td>
<td>Spatially smooth images using a median filter.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#thunder.Images.min" title="thunder.Images.min"><tt class="xref py py-obj docutils literal"><span class="pre">min</span></tt></a>()</td>
<td>Minimum of values, ignoring keys</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#thunder.Images.planes" title="thunder.Images.planes"><tt class="xref py py-obj docutils literal"><span class="pre">planes</span></tt></a>(startidz,&nbsp;stopidz)</td>
<td>Subselect planes from 3D image data.</td>
</tr>
<tr class="row-even"><td><tt class="xref py py-obj docutils literal"><span class="pre">populateParamsFromFirstRecord</span></tt>()</td>
<td></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#thunder.Images.renumber" title="thunder.Images.renumber"><tt class="xref py py-obj docutils literal"><span class="pre">renumber</span></tt></a>()</td>
<td>Recalculates keys for this Images object.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#thunder.Images.repartition" title="thunder.Images.repartition"><tt class="xref py py-obj docutils literal"><span class="pre">repartition</span></tt></a>(numPartitions)</td>
<td>Repartition data.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#thunder.Images.saveAsBinarySeries" title="thunder.Images.saveAsBinarySeries"><tt class="xref py py-obj docutils literal"><span class="pre">saveAsBinarySeries</span></tt></a>(outputDirPath[,&nbsp;...])</td>
<td>Writes this Images object to disk as binary Series data.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#thunder.Images.sortByKey" title="thunder.Images.sortByKey"><tt class="xref py py-obj docutils literal"><span class="pre">sortByKey</span></tt></a>()</td>
<td>Sort records by keys.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#thunder.Images.stats" title="thunder.Images.stats"><tt class="xref py py-obj docutils literal"><span class="pre">stats</span></tt></a>([requestedStats,&nbsp;dtype,&nbsp;casting])</td>
<td>Return a L{StatCounter} object that captures all or some of the mean, variance, maximum, minimum, and count of the RDD&#8217;s elements in one operation.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#thunder.Images.stdev" title="thunder.Images.stdev"><tt class="xref py py-obj docutils literal"><span class="pre">stdev</span></tt></a>([dtype,&nbsp;casting])</td>
<td>Standard deviation of values, ignoring keys</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#thunder.Images.subsample" title="thunder.Images.subsample"><tt class="xref py py-obj docutils literal"><span class="pre">subsample</span></tt></a>(sampleFactor)</td>
<td>Downsample an image volume by an integer factor</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#thunder.Images.subtract" title="thunder.Images.subtract"><tt class="xref py py-obj docutils literal"><span class="pre">subtract</span></tt></a>(val)</td>
<td>Subtract a constant value or an image / volume from all images / volumes in the data set.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#thunder.Images.sum" title="thunder.Images.sum"><tt class="xref py py-obj docutils literal"><span class="pre">sum</span></tt></a>([dtype,&nbsp;casting])</td>
<td>Sum of values, ignoring keys</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#thunder.Images.take" title="thunder.Images.take"><tt class="xref py py-obj docutils literal"><span class="pre">take</span></tt></a>(*args,&nbsp;**kwargs)</td>
<td>Take samples.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#thunder.Images.toBlocks" title="thunder.Images.toBlocks"><tt class="xref py py-obj docutils literal"><span class="pre">toBlocks</span></tt></a>([blockSizeSpec,&nbsp;units,&nbsp;padding])</td>
<td>Convert to Blocks, each representing a subdivision of the larger Images data.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#thunder.Images.toSeries" title="thunder.Images.toSeries"><tt class="xref py py-obj docutils literal"><span class="pre">toSeries</span></tt></a>([blockSizeSpec,&nbsp;units])</td>
<td>Converts this Images object to a Series object.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#thunder.Images.values" title="thunder.Images.values"><tt class="xref py py-obj docutils literal"><span class="pre">values</span></tt></a>()</td>
<td>Return rdd of values, ignoring keys</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#thunder.Images.variance" title="thunder.Images.variance"><tt class="xref py py-obj docutils literal"><span class="pre">variance</span></tt></a>([dtype,&nbsp;casting])</td>
<td>Variance of values, ignoring keys</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="thunder.Images.apply">
<tt class="descname">apply</tt><big>(</big><em>func</em>, <em>keepDtype=False</em>, <em>keepIndex=False</em><big>)</big><a class="headerlink" href="#thunder.Images.apply" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply arbitrary function to records of a Data object.</p>
<p>This wraps the combined process of calling Spark&#8217;s map operation on
the underlying RDD and returning a reconstructed Data object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>func</strong> : function</p>
<blockquote>
<div><p>Function to apply to records.</p>
</div></blockquote>
<p><strong>keepDtype</strong> : boolean</p>
<blockquote>
<div><p>Whether to preserve the dtype, if false dtype will be set to none
under the assumption that the function might change it</p>
</div></blockquote>
<p><strong>keepIndex</strong> : boolean</p>
<blockquote class="last">
<div><p>Whether to preserve the index, if false index will be set to none
under the assumption that the function might change it</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="thunder.Images.applyKeys">
<tt class="descname">applyKeys</tt><big>(</big><em>func</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#thunder.Images.applyKeys" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply arbitrary function to the keys of a Data object, preserving the values.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="thunder.Series.html#thunder.Series.apply" title="thunder.Series.apply"><tt class="xref py py-obj docutils literal"><span class="pre">Series.apply</span></tt></a></p>
</div>
</dd></dl>

<dl class="method">
<dt id="thunder.Images.applyValues">
<tt class="descname">applyValues</tt><big>(</big><em>func</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#thunder.Images.applyValues" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply arbitrary function to the values of a Data object, preserving the keys.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="thunder.Series.html#thunder.Series.apply" title="thunder.Series.apply"><tt class="xref py py-obj docutils literal"><span class="pre">Series.apply</span></tt></a></p>
</div>
</dd></dl>

<dl class="method">
<dt id="thunder.Images.astype">
<tt class="descname">astype</tt><big>(</big><em>dtype</em>, <em>casting='safe'</em><big>)</big><a class="headerlink" href="#thunder.Images.astype" title="Permalink to this definition">¶</a></dt>
<dd><p>Cast values to specified numpy dtype.</p>
<p>If &#8216;smallfloat&#8217; is passed, values will be cast to the smallest floating point representation
to which they can be cast safely, as determined by the thunder.utils.common smallest_float_type function.
Typically this will be a float type larger than a passed integer type (for instance, float16 for int8 or uint8).</p>
<p>If the passed dtype is the same as the current dtype, or if &#8216;smallfloat&#8217; is passed when values are already
in floating point, then this method will return self unchanged.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>dtype: numpy dtype or dtype specifier, or string &#8216;smallfloat&#8217;, or None</strong></p>
<blockquote>
<div><p>Data type to which RDD values are to be cast. Will return without cast if None is passed.</p>
</div></blockquote>
<p><strong>casting: &#8216;no&#8217;|&#8217;equiv&#8217;|&#8217;safe&#8217;|&#8217;same_kind&#8217;|&#8217;unsafe&#8217;, optional, default &#8216;safe&#8217;</strong></p>
<blockquote>
<div><p>Casting method to pass on to numpy&#8217;s astype() method; see numpy documentation for details.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">New Data object, of same type as self, with values cast to the requested dtype; or self if no cast is performed.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="thunder.Images.cache">
<tt class="descname">cache</tt><big>(</big><big>)</big><a class="headerlink" href="#thunder.Images.cache" title="Permalink to this definition">¶</a></dt>
<dd><p>Enable in-memory caching.</p>
<p>This calls the Spark cache() method on the underlying RDD.</p>
</dd></dl>

<dl class="method">
<dt id="thunder.Images.coalesce">
<tt class="descname">coalesce</tt><big>(</big><em>numPartitions</em><big>)</big><a class="headerlink" href="#thunder.Images.coalesce" title="Permalink to this definition">¶</a></dt>
<dd><p>Coalesce data (used to reduce number of partitions).</p>
<p>This calls the Spark coalesce() method on the underlying RDD.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>numPartitions</strong> : int</p>
<blockquote class="last">
<div><p>Number of partitions in coalesced RDD</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="thunder.Images.collect">
<tt class="descname">collect</tt><big>(</big><em>sorting=False</em><big>)</big><a class="headerlink" href="#thunder.Images.collect" title="Permalink to this definition">¶</a></dt>
<dd><p>Return all records to the driver</p>
<p>This will be slow for large datasets, and may exhaust the available memory on the driver.</p>
<p>This calls the Spark collect() method on the underlying RDD.</p>
</dd></dl>

<dl class="method">
<dt id="thunder.Images.collectAsArray">
<tt class="descname">collectAsArray</tt><big>(</big><em>sorting=False</em><big>)</big><a class="headerlink" href="#thunder.Images.collectAsArray" title="Permalink to this definition">¶</a></dt>
<dd><p>Return all keys and values to the driver as a tuple of numpy arrays</p>
<p>This will be slow for large datasets, and may exhaust the available memory on the driver.</p>
</dd></dl>

<dl class="method">
<dt id="thunder.Images.collectKeysAsArray">
<tt class="descname">collectKeysAsArray</tt><big>(</big><em>sorting=False</em><big>)</big><a class="headerlink" href="#thunder.Images.collectKeysAsArray" title="Permalink to this definition">¶</a></dt>
<dd><p>Return all values to the driver as a numpy array</p>
<p>This will be slow for large datasets, and may exhaust the available memory on the driver.</p>
</dd></dl>

<dl class="method">
<dt id="thunder.Images.collectValuesAsArray">
<tt class="descname">collectValuesAsArray</tt><big>(</big><em>sorting=False</em><big>)</big><a class="headerlink" href="#thunder.Images.collectValuesAsArray" title="Permalink to this definition">¶</a></dt>
<dd><p>Return all records to the driver as a numpy array</p>
<p>This will be slow for large datasets, and may exhaust the available memory on the driver.</p>
</dd></dl>

<dl class="method">
<dt id="thunder.Images.count">
<tt class="descname">count</tt><big>(</big><big>)</big><a class="headerlink" href="#thunder.Images.count" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates and returns the number of records in the RDD.</p>
<p>This calls the Spark count() method on the underlying RDD and updates
the .nrecords metadata attribute.</p>
</dd></dl>

<dl class="method">
<dt id="thunder.Images.crop">
<tt class="descname">crop</tt><big>(</big><em>minbound</em>, <em>maxbound</em><big>)</big><a class="headerlink" href="#thunder.Images.crop" title="Permalink to this definition">¶</a></dt>
<dd><p>Crop a spatial region from 2D or 3D data.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>minbound</strong> : list or tuple</p>
<blockquote>
<div><p>Minimum of crop region (x,y) or (x,y,z)</p>
</div></blockquote>
<p><strong>maxbound</strong> : list or tuple</p>
<blockquote>
<div><p>Maximum of crop region (x,y) or (x,y,z)</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">Images object with cropped images / volume</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="thunder.Images.exportAsPngs">
<tt class="descname">exportAsPngs</tt><big>(</big><em>outputDirPath</em>, <em>filePrefix='export'</em>, <em>overwrite=False</em>, <em>collectToDriver=True</em><big>)</big><a class="headerlink" href="#thunder.Images.exportAsPngs" title="Permalink to this definition">¶</a></dt>
<dd><p>Write out basic png files for two-dimensional image data.</p>
<p>Files will be written into a newly-created directory on the local file system given by outputdirname.</p>
<p>All workers must be able to see the output directory via an NFS share or similar.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>outputDirPath</strong> : string</p>
<blockquote>
<div><p>Path to output directory to be created. Exception will be thrown if this directory already
exists, unless overwrite is True. Directory must be one level below an existing directory.</p>
</div></blockquote>
<p><strong>filePrefix</strong> : string</p>
<blockquote>
<div><p>String to prepend to all filenames. Files will be named &lt;fileprefix&gt;00000.png, &lt;fileprefix&gt;00001.png, etc</p>
</div></blockquote>
<p><strong>overwrite</strong> : bool</p>
<blockquote>
<div><p>If true, the directory given by outputdirname will first be deleted if it already exists.</p>
</div></blockquote>
<p><strong>collectToDriver</strong> : bool, default True</p>
<blockquote class="last">
<div><p>If true, images will be collect()&#8217;ed at the driver first before being written out, allowing
for use of a local filesystem at the expense of network overhead. If false, images will be written
in parallel by each executor, presumably to a distributed or networked filesystem.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="thunder.Images.filter">
<tt class="descname">filter</tt><big>(</big><em>func</em><big>)</big><a class="headerlink" href="#thunder.Images.filter" title="Permalink to this definition">¶</a></dt>
<dd><p>Filter records by appliyng a function to each record.</p>
<p>This calls the Spark filter() method on the underlying RDD.</p>
</dd></dl>

<dl class="method">
<dt id="thunder.Images.filterOnKeys">
<tt class="descname">filterOnKeys</tt><big>(</big><em>func</em><big>)</big><a class="headerlink" href="#thunder.Images.filterOnKeys" title="Permalink to this definition">¶</a></dt>
<dd><p>Filter records by applying a function to keys</p>
</dd></dl>

<dl class="method">
<dt id="thunder.Images.filterOnValues">
<tt class="descname">filterOnValues</tt><big>(</big><em>func</em><big>)</big><a class="headerlink" href="#thunder.Images.filterOnValues" title="Permalink to this definition">¶</a></dt>
<dd><p>Filter records by applying a function to values</p>
</dd></dl>

<dl class="method">
<dt id="thunder.Images.first">
<tt class="descname">first</tt><big>(</big><big>)</big><a class="headerlink" href="#thunder.Images.first" title="Permalink to this definition">¶</a></dt>
<dd><p>Return first record.</p>
<p>This calls the Spark first() method on the underlying RDD. As a side effect, any attributes on this object that
can be set based on the values of the first record will be set (see populateParamsFromFirstRecord).</p>
</dd></dl>

<dl class="method">
<dt id="thunder.Images.gaussianFilter">
<tt class="descname">gaussianFilter</tt><big>(</big><em>sigma=2</em>, <em>order=0</em><big>)</big><a class="headerlink" href="#thunder.Images.gaussianFilter" title="Permalink to this definition">¶</a></dt>
<dd><p>Spatially smooth images with a gaussian filter.</p>
<p>Filtering will be applied to every image in the collection and can be applied
to either images or volumes. For volumes, if an single scalar sigma is passed,
it will be interpreted as the filter size in x and y, with no filtering in z.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>sigma</strong> : scalar or sequence of scalars, default=2</p>
<blockquote>
<div><p>Size of the filter size as standard deviation in pixels. A sequence is interpreted
as the standard deviation for each axis. For three-dimensional data, a single
scalar is interpreted as the standard deviation in x and y, with no filtering in z.</p>
</div></blockquote>
<p><strong>order</strong> : choice of 0 / 1 / 2 / 3 or sequence from same set, optional, default = 0</p>
<blockquote class="last">
<div><p>Order of the gaussian kernel, 0 is a gaussian, higher numbers correspond
to derivatives of a gaussian.
is given for each axis. A single number</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="thunder.Images.get">
<tt class="descname">get</tt><big>(</big><em>key</em><big>)</big><a class="headerlink" href="#thunder.Images.get" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a single value matching the passed key, or None if no matching keys found.</p>
<p>If multiple records are found with keys matching the passed key, a sequence of all matching
values will be returned.</p>
</dd></dl>

<dl class="method">
<dt id="thunder.Images.getMany">
<tt class="descname">getMany</tt><big>(</big><em>keys</em><big>)</big><a class="headerlink" href="#thunder.Images.getMany" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a sequence of values corresponding to the passed sequence of keys.</p>
<p>The return value will be a sequence equal in length to the passed keys, with each
value in the returned sequence corresponding to the key at the same position in the passed
keys sequence. If no value is found for a given key, the corresponding sequence element will be None.
If multiple values are found, a sequence containing all matching values will be returned.</p>
</dd></dl>

<dl class="method">
<dt id="thunder.Images.getRange">
<tt class="descname">getRange</tt><big>(</big><em>sliceOrSlices</em><big>)</big><a class="headerlink" href="#thunder.Images.getRange" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns key/value pairs that fall within a range given by the passed slice or slices.</p>
<p>The return values will be a sorted list of key/value pairs of all records in the underlying
RDD for which the key falls within the range given by the passed slice selectors. Note that
this may be very large, and could potentially exhaust the available memory on the driver.</p>
<p>For singleton keys, a single slice (or slice sequence of length one) should be passed.
For tuple keys, a sequence of multiple slices should be passed. A <cite>step</cite> attribute on slices
is not supported and a alueError will be raised if passed.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>sliceOrSlices: slice object or sequence of slices</strong></p>
<blockquote>
<div><p>The passed slice or slices should be of the same cardinality as the keys of the underlying rdd.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">sorted sequence of key/value pairs</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="thunder.Images.keys">
<tt class="descname">keys</tt><big>(</big><big>)</big><a class="headerlink" href="#thunder.Images.keys" title="Permalink to this definition">¶</a></dt>
<dd><p>Return rdd of keys, ignoring values</p>
<p>This calls the Spark keys() method on the underlying RDD.</p>
</dd></dl>

<dl class="method">
<dt id="thunder.Images.max">
<tt class="descname">max</tt><big>(</big><big>)</big><a class="headerlink" href="#thunder.Images.max" title="Permalink to this definition">¶</a></dt>
<dd><p>Maximum of values, ignoring keys</p>
</dd></dl>

<dl class="method">
<dt id="thunder.Images.maxProjection">
<tt class="descname">maxProjection</tt><big>(</big><em>axis=2</em><big>)</big><a class="headerlink" href="#thunder.Images.maxProjection" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute maximum projections of images / volumes
along the specified dimension.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>axis</strong> : int, optional, default = 2</p>
<blockquote class="last">
<div><p>Which axis to compute projection along</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="thunder.Images.maxminProjection">
<tt class="descname">maxminProjection</tt><big>(</big><em>axis=2</em><big>)</big><a class="headerlink" href="#thunder.Images.maxminProjection" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute maximum-minimum projections of images / volumes
along the specified dimension. This computes the sum
of the maximum and minimum values along the given dimension.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>axis</strong> : int, optional, default = 2</p>
<blockquote class="last">
<div><p>Which axis to compute projection along</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="thunder.Images.mean">
<tt class="descname">mean</tt><big>(</big><em>dtype='float64'</em>, <em>casting='safe'</em><big>)</big><a class="headerlink" href="#thunder.Images.mean" title="Permalink to this definition">¶</a></dt>
<dd><p>Mean of values, ignoring keys</p>
<p>If dtype is not None, then the values will first be cast to the requested
type before the operation is performed. See Data.astype() for details.</p>
</dd></dl>

<dl class="method">
<dt id="thunder.Images.meanByRegions">
<tt class="descname">meanByRegions</tt><big>(</big><em>selection</em><big>)</big><a class="headerlink" href="#thunder.Images.meanByRegions" title="Permalink to this definition">¶</a></dt>
<dd><p>Reduces images to one or more spatially averaged values using the given selection, which can be
either a mask array or sequence of indicies.</p>
<p>A passed mask must be a numpy ndarray of the same shape as the individual arrays in this
Images object. If the mask array is of integer or unsigned integer type, one mean value will
be calculated for each unique nonzero value in the passed mask. (That is, all pixels with a
value of &#8216;1&#8217; in the mask will be averaged together, as will all with a mask value of &#8216;2&#8217;, and so
on.) For other mask array types, all nonzero values in the mask will be averaged together into
a single regional average.</p>
<p>Alternatively, subscripted indices may be passed directly as a sequence of sequences of tuple indicies. For
instance, selection=[[(0,1), (1,0)], [(2,1), (2,2)]] would return two means, one for the region made up
of the pixels at (0,1) and (1,0), and the other of (2,1) and (2,2).</p>
<p>The returned object will be a new 2d Images object with dimensions (1, number of regions). This can be
converted into a Series object and from there into time series arrays by calling
regionMeanImages.toSeries().collect().</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>selection: ndarray mask with shape equal to self.dims.count, or sequence of sequences of pixel indicies</strong></td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">new Images object</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="thunder.Images.medianFilter">
<tt class="descname">medianFilter</tt><big>(</big><em>size=2</em><big>)</big><a class="headerlink" href="#thunder.Images.medianFilter" title="Permalink to this definition">¶</a></dt>
<dd><p>Spatially smooth images using a median filter.</p>
<p>Filtering will be applied to every image in the collection and can be applied
to either images or volumes. For volumes, if an single scalar neighborhood is passed,
it will be interpreted as the filter size in x and y, with no filtering in z.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>size: int, optional, default=2</strong></p>
<blockquote class="last">
<div><p>Size of the filter neighbourhood in pixels. A sequence is interpreted
as the neighborhood size for each axis. For three-dimensional data, a single
scalar is intrepreted as the neighborhood in x and y, with no filtering in z.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="thunder.Images.min">
<tt class="descname">min</tt><big>(</big><big>)</big><a class="headerlink" href="#thunder.Images.min" title="Permalink to this definition">¶</a></dt>
<dd><p>Minimum of values, ignoring keys</p>
</dd></dl>

<dl class="method">
<dt id="thunder.Images.planes">
<tt class="descname">planes</tt><big>(</big><em>startidz</em>, <em>stopidz</em><big>)</big><a class="headerlink" href="#thunder.Images.planes" title="Permalink to this definition">¶</a></dt>
<dd><p>Subselect planes from 3D image data.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>startidz, stopidz</strong> : int</p>
<blockquote class="last">
<div><p>Indices of region to crop in z, interpreted according to python slice indexing conventions.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#thunder.Images.crop" title="thunder.Images.crop"><tt class="xref py py-obj docutils literal"><span class="pre">Images.crop</span></tt></a></p>
</div>
</dd></dl>

<dl class="method">
<dt id="thunder.Images.renumber">
<tt class="descname">renumber</tt><big>(</big><big>)</big><a class="headerlink" href="#thunder.Images.renumber" title="Permalink to this definition">¶</a></dt>
<dd><p>Recalculates keys for this Images object.</p>
<p>New keys will be a sequence of consecutive integers, starting at 0 and ending at self.nrecords-1.</p>
</dd></dl>

<dl class="method">
<dt id="thunder.Images.repartition">
<tt class="descname">repartition</tt><big>(</big><em>numPartitions</em><big>)</big><a class="headerlink" href="#thunder.Images.repartition" title="Permalink to this definition">¶</a></dt>
<dd><p>Repartition data.</p>
<p>This calls the Spark repartition() method on the underlying RDD.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>numPartitions</strong> : int</p>
<blockquote class="last">
<div><p>Number of partitions in new RDD</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="thunder.Images.saveAsBinarySeries">
<tt class="descname">saveAsBinarySeries</tt><big>(</big><em>outputDirPath</em>, <em>blockSizeSpec='150M'</em>, <em>units='pixels'</em>, <em>overwrite=False</em><big>)</big><a class="headerlink" href="#thunder.Images.saveAsBinarySeries" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes this Images object to disk as binary Series data.</p>
<p>This method is equivalent to images.toBlocks(blockSizeSpec).saveAsBinarySeries(outputdirname, overwrite)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>blockSizeSpec: string memory size, tuple of positive int, or instance of BlockingStrategy</strong></p>
<blockquote>
<div><p>A string spec will be interpreted as a memory size string (e.g. &#8220;64M&#8221;). The resulting Series data files will
be generated by a SimpleBlockingStrategy to be close to the requested size.
A tuple of positive ints will be interpreted as either &#8220;pixels per dimension&#8221; (default) or &#8220;splits per
dimension&#8221;, depending on the value of the units parameter. The length of the tuple must match the
dimensionality of this Images object. These units will be passed into a SimpleBlockingStrategy which will
be used to control the size of the individual files written to disk.
If an instance of BlockingStrategy is passed, it will be used to generate the Series data files.</p>
</div></blockquote>
<p><strong>outputDirPath</strong> : string path or URI to directory to be created</p>
<blockquote>
<div><p>Output files will be written underneath outputDirPath. This directory must not yet exist
(unless overwrite is True), and must be no more than one level beneath an existing directory.
It will be created as a result of this call.</p>
</div></blockquote>
<p><strong>units: string, either &#8220;pixels&#8221; or &#8220;splits&#8221; (or unique prefix of each, such as &#8220;s&#8221;), default &#8220;pixels&#8221;</strong></p>
<blockquote>
<div><p>Specifies units to be used in interpreting a tuple passed as blockSizeSpec. If a string or a
BlockingStrategy instance is passed as blockSizeSpec, this parameter has no effect.</p>
</div></blockquote>
<p><strong>overwrite</strong> : bool</p>
<blockquote>
<div><p>If true, outputdirname and all its contents will be deleted and recreated as part
of this call.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">no return value</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="thunder.Images.sortByKey">
<tt class="descname">sortByKey</tt><big>(</big><big>)</big><a class="headerlink" href="#thunder.Images.sortByKey" title="Permalink to this definition">¶</a></dt>
<dd><p>Sort records by keys.</p>
<p>This calls the Spark sortByKey() method on the underlying RDD, but reverse the order
of the key tuples before and after sorting so they are sorted according to the convention
that the first key varies fastest, then the second, then the third, etc.</p>
</dd></dl>

<dl class="method">
<dt id="thunder.Images.stats">
<tt class="descname">stats</tt><big>(</big><em>requestedStats='all'</em>, <em>dtype='float64'</em>, <em>casting='safe'</em><big>)</big><a class="headerlink" href="#thunder.Images.stats" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a L{StatCounter} object that captures all or some of the mean, variance, maximum, minimum,
and count of the RDD&#8217;s elements in one operation.</p>
<p>If dtype is specified and not None, will first cast the data as described in Data.astype().</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>requestedStats: sequence of one or more requested stats, or &#8216;all&#8217;</strong></p>
<blockquote>
<div><p>Possible stats include &#8216;mean&#8217;, &#8216;sum&#8217;, &#8216;min&#8217;, &#8216;max&#8217;, &#8216;variance&#8217;, &#8216;sampleVariance&#8217;, &#8216;stdev&#8217;, &#8216;sampleStdev&#8217;.</p>
</div></blockquote>
<p><strong>dtype: numpy dtype or dtype specifier, or string &#8216;smallfloat&#8217;, or None</strong></p>
<blockquote>
<div><p>Data type to which RDD values are to be cast before calculating stats. See Data.astype().</p>
</div></blockquote>
<p><strong>casting: &#8216;no&#8217;|&#8217;equiv&#8217;|&#8217;safe&#8217;|&#8217;same_kind&#8217;|&#8217;unsafe&#8217;, optional, default &#8216;safe&#8217;</strong></p>
<blockquote class="last">
<div><p>Method of casting to use. See Data.astype() and numpy astype() function.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="thunder.Images.stdev">
<tt class="descname">stdev</tt><big>(</big><em>dtype='float64'</em>, <em>casting='safe'</em><big>)</big><a class="headerlink" href="#thunder.Images.stdev" title="Permalink to this definition">¶</a></dt>
<dd><p>Standard deviation of values, ignoring keys</p>
<p>If dtype is not None, then the values will first be cast to the requested type before the operation is
performed. See Data.astype() for details.</p>
<p>obj.stdev() is equivalent to obj.astype(dtype, casting).rdd.values().stdev().</p>
</dd></dl>

<dl class="method">
<dt id="thunder.Images.subsample">
<tt class="descname">subsample</tt><big>(</big><em>sampleFactor</em><big>)</big><a class="headerlink" href="#thunder.Images.subsample" title="Permalink to this definition">¶</a></dt>
<dd><p>Downsample an image volume by an integer factor</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>sampleFactor</strong> : positive int or tuple of positive ints</p>
<blockquote class="last">
<div><p>Stride to use in subsampling. If a single int is passed, each dimension of the image
will be downsampled by this same factor. If a tuple is passed, it must have the same
dimensionality of the image. The strides given in a passed tuple will be applied to
each image dimension.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="thunder.Images.subtract">
<tt class="descname">subtract</tt><big>(</big><em>val</em><big>)</big><a class="headerlink" href="#thunder.Images.subtract" title="Permalink to this definition">¶</a></dt>
<dd><p>Subtract a constant value or an image / volume from
all images / volumes in the data set.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>val</strong> : int, float, or ndarray</p>
<blockquote class="last">
<div><p>Value to subtract</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="thunder.Images.sum">
<tt class="descname">sum</tt><big>(</big><em>dtype='float64'</em>, <em>casting='safe'</em><big>)</big><a class="headerlink" href="#thunder.Images.sum" title="Permalink to this definition">¶</a></dt>
<dd><p>Sum of values, ignoring keys</p>
<p>If dtype is not None, then the values will first be cast to the requested type before the operation is
performed. See Data.astype() for details.</p>
<p>obj.sum() is equivalent to obj.astype(dtype, casting).rdd.values().sum().</p>
</dd></dl>

<dl class="method">
<dt id="thunder.Images.take">
<tt class="descname">take</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#thunder.Images.take" title="Permalink to this definition">¶</a></dt>
<dd><p>Take samples.</p>
<p>This calls the Spark take() method on the underlying RDD.</p>
</dd></dl>

<dl class="method">
<dt id="thunder.Images.toBlocks">
<tt class="descname">toBlocks</tt><big>(</big><em>blockSizeSpec='150M'</em>, <em>units='pixels'</em>, <em>padding=0</em><big>)</big><a class="headerlink" href="#thunder.Images.toBlocks" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert to Blocks, each representing a subdivision of the larger Images data.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>blockSizeSpec: string memory size, tuple of integer splits per dimension, or instance of BlockingStrategy</strong></p>
<blockquote>
<div><p>A string spec will be interpreted as a memory size string (e.g. &#8220;64M&#8221;). The resulting blocks will be
generated by a SimpleBlockingStrategy to be close to the requested size.
A tuple of positive ints will be interpreted as either &#8220;pixels per dimension&#8221; (default) or &#8220;splits per
dimension&#8221;, depending on the value of the units parameter. These units will be passed into a
Simple or PaddedBlockingStrategy, depending on the value of the padding parameter, that will be used to
generate the returned blocks.
If an instance of BlockingStrategy is passed, it will be used to generate the returned Blocks.</p>
</div></blockquote>
<p><strong>units: string, either &#8220;pixels&#8221; or &#8220;splits&#8221; (or unique prefix of each, such as &#8220;s&#8221;), default &#8220;pixels&#8221;</strong></p>
<blockquote>
<div><p>Specifies units to be used in interpreting a tuple passed as blockSizeSpec. If a string or a
BlockingStrategy instance is passed as blockSizeSpec, this parameter has no effect.</p>
</div></blockquote>
<p><strong>padding: nonnegative integer or tuple of int, optional, default 0</strong></p>
<blockquote>
<div><p>If padding is &gt;0, or a tuple of int all &gt; 0, then blocks will be generated with <cite>padding</cite> voxels of
additional padding on each dimension. These padding voxels will overlap with those in neighboring blocks,
but will not be included when e.g. generating Series or Images data from the blocks. See
thunder.rdds.imgblocks.strategy.PaddedBlockingStrategy for details.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">Blocks instance</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="thunder.Images.toSeries">
<tt class="descname">toSeries</tt><big>(</big><em>blockSizeSpec='150M'</em>, <em>units='pixels'</em><big>)</big><a class="headerlink" href="#thunder.Images.toSeries" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts this Images object to a Series object.</p>
<p>This method is equivalent to images.toBlocks(blockSizeSpec).toSeries().</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>blockSizeSpec: string memory size, tuple of positive int, or instance of BlockingStrategy</strong></p>
<blockquote>
<div><p>A string spec will be interpreted as a memory size string (e.g. &#8220;64M&#8221;). The resulting blocks will be
generated by a SimpleBlockingStrategy to be close to the requested size.
A tuple of positive ints will be interpreted as either &#8220;pixels per dimension&#8221; (default) or &#8220;splits per
dimension&#8221;, depending on the value of the units parameter. The length of the tuple must match the
dimensionality of this Images object. These units will be passed into a SimpleBlockingStrategy which will
be used to generate the returned Blocks.
If an instance of BlockingStrategy is passed, it will be used to generate the returned Blocks.</p>
</div></blockquote>
<p><strong>units: string, either &#8220;pixels&#8221; or &#8220;splits&#8221; (or unique prefix of each, such as &#8220;s&#8221;), default &#8220;pixels&#8221;</strong></p>
<blockquote>
<div><p>Specifies units to be used in interpreting a tuple passed as blockSizeSpec. If a string or a
BlockingStrategy instance is passed as blockSizeSpec, this parameter has no effect.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">new Series object</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="thunder.Images.values">
<tt class="descname">values</tt><big>(</big><big>)</big><a class="headerlink" href="#thunder.Images.values" title="Permalink to this definition">¶</a></dt>
<dd><p>Return rdd of values, ignoring keys</p>
<p>This calls the Spark values() method on the underlying RDD.</p>
</dd></dl>

<dl class="method">
<dt id="thunder.Images.variance">
<tt class="descname">variance</tt><big>(</big><em>dtype='float64'</em>, <em>casting='safe'</em><big>)</big><a class="headerlink" href="#thunder.Images.variance" title="Permalink to this definition">¶</a></dt>
<dd><p>Variance of values, ignoring keys</p>
<p>If dtype is not None, then the values will first be cast to the requested type before the operation is
performed. See Data.astype() for details.</p>
</dd></dl>

</dd></dl>

</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
        <br/>
        
<div id="sourcelink">
  <a href="../_sources/generated/thunder.Images.txt"
     rel="nofollow">Source</a>
</div>
      
    </p>
    <p>
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.2.3.<br/>
    </p>
  </div>
</footer>
  </body>
</html>