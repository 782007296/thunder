
<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>thunder.RegistrationModel</title>
    
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootswatch-3.1.0/simplex/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/styles.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.5.0dev',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.1.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="top" title="None" href="../index.html" />
    <link rel="up" title="API Reference" href="../api.html" />
    <link rel="next" title="thunder.CrossCorr" href="thunder.CrossCorr.html" />
    <link rel="prev" title="thunder.Registration" href="thunder.Registration.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head>
  <body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../index.html"><img src="../_static/thunder_logo.png">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>0.5.0dev</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="../tutorials.html">Tutorials</a></li>
                <li><a href="../api.html">API</a></li>
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul>
<li class="toctree-l1"><a class="reference internal" href="../introduction.html">Introduction to Thunder</a></li>
<li class="toctree-l1"><a class="reference internal" href="../install_local.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../install_ec2.html">Running on EC2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../style_guide.html">Style guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq.html">F.A.Q.</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/freeman-lab/thunder/releases">Release notes</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/basic_usage.html">Basic usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/thunder_context.html">Thunder context</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/input_formats.html">Input formats</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/images.html">Images</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/series.html">Series</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/multi_index.html">Multi-indexing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/image_registration.html">Image registration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/clustering.html">Clustering</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/factorization.html">Factorization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/regression.html">Regression</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../api.html">API Reference</a></li>
<li class="toctree-l1"><a class="reference external" href="https://gitter.im/thunder-project/thunder">Gitter chatroom</a></li>
<li class="toctree-l1"><a class="reference external" href="https://groups.google.com/forum/?hl=en#!forum/thunder-user">Mailing list</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/freeman-lab/thunder">Github repo</a></li>
<li class="toctree-l1"><a class="reference external" href="http://thefreemanlab.com/thunder/">Project page</a></li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#"><tt class="docutils literal"><span class="pre">thunder</span></tt>.RegistrationModel</a></li>
</ul>
</ul>
</li>
              
            
            
            
            
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12">
      
  <div class="section" id="thunder-registrationmodel">
<h1><tt class="xref py py-mod docutils literal"><span class="pre">thunder</span></tt>.RegistrationModel<a class="headerlink" href="#thunder-registrationmodel" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="thunder.RegistrationModel">
<em class="property">class </em><tt class="descclassname">thunder.</tt><tt class="descname">RegistrationModel</tt><big>(</big><em>transformations</em>, <em>regMethod=None</em>, <em>transClass=None</em><big>)</big><a class="headerlink" href="#thunder.RegistrationModel" title="Permalink to this definition">¶</a></dt>
<dd><p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><tt class="xref py py-obj docutils literal"><span class="pre">__init__</span></tt>(transformations[,&nbsp;regMethod,&nbsp;...])</td>
<td></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#thunder.RegistrationModel.deserialize" title="thunder.RegistrationModel.deserialize"><tt class="xref py py-obj docutils literal"><span class="pre">deserialize</span></tt></a>(serializedDict)</td>
<td>Restore the object that has been converted to a python dictionary using an &#64;serializable class&#8217;s serialize() method.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#thunder.RegistrationModel.fromJSON" title="thunder.RegistrationModel.fromJSON"><tt class="xref py py-obj docutils literal"><span class="pre">fromJSON</span></tt></a>(s)</td>
<td>Deserialize object from the passed JSON string</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#thunder.RegistrationModel.load" title="thunder.RegistrationModel.load"><tt class="xref py py-obj docutils literal"><span class="pre">load</span></tt></a>(f)</td>
<td>Deserialize object from a JSON file.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#thunder.RegistrationModel.save" title="thunder.RegistrationModel.save"><tt class="xref py py-obj docutils literal"><span class="pre">save</span></tt></a>(f[,&nbsp;numpyStorage])</td>
<td>Serialize this object to a JSON file.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#thunder.RegistrationModel.serialize" title="thunder.RegistrationModel.serialize"><tt class="xref py py-obj docutils literal"><span class="pre">serialize</span></tt></a>([numpyStorage])</td>
<td>Serialize this object to a python dictionary that can easily be converted to/from JSON using Python&#8217;s standard JSON library.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#thunder.RegistrationModel.toArray" title="thunder.RegistrationModel.toArray"><tt class="xref py py-obj docutils literal"><span class="pre">toArray</span></tt></a>()</td>
<td>Return transformations as an array with shape (n,x1,x2,...)</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#thunder.RegistrationModel.toJSON" title="thunder.RegistrationModel.toJSON"><tt class="xref py py-obj docutils literal"><span class="pre">toJSON</span></tt></a>([numpyStorage])</td>
<td>Serialize this object to a JSON-formatted string</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#thunder.RegistrationModel.transform" title="thunder.RegistrationModel.transform"><tt class="xref py py-obj docutils literal"><span class="pre">transform</span></tt></a>(images)</td>
<td>Apply the transformation to an Images object.</td>
</tr>
</tbody>
</table>
<dl class="classmethod">
<dt id="thunder.RegistrationModel.deserialize">
<em class="property">classmethod </em><tt class="descname">deserialize</tt><big>(</big><em>serializedDict</em><big>)</big><a class="headerlink" href="#thunder.RegistrationModel.deserialize" title="Permalink to this definition">¶</a></dt>
<dd><p>Restore the object that has been converted to a python dictionary using an &#64;serializable
class&#8217;s serialize() method.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>serializedDict: a python dictionary, as returned by serialize()</strong></td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A reconstituted class instance</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="thunder.RegistrationModel.fromJSON">
<em class="property">classmethod </em><tt class="descname">fromJSON</tt><big>(</big><em>s</em><big>)</big><a class="headerlink" href="#thunder.RegistrationModel.fromJSON" title="Permalink to this definition">¶</a></dt>
<dd><p>Deserialize object from the passed JSON string</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>s: JSON-encoded string, as returned by toJSON()</strong></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="thunder.RegistrationModel.load">
<em class="property">classmethod </em><tt class="descname">load</tt><big>(</big><em>f</em><big>)</big><a class="headerlink" href="#thunder.RegistrationModel.load" title="Permalink to this definition">¶</a></dt>
<dd><p>Deserialize object from a JSON file.</p>
<p>Assumes a JSON formatted registration model, with keys &#8216;regmethod&#8217; and &#8216;transclass&#8217; specifying
the registration method used and the transformation type as strings, and &#8216;transformations&#8217;
containing the transformations. The format of the transformations will depend on the type,
but it should be a dictionary of key value pairs, where the keys are keys of the target
Images object, and the values are arguments for reconstructing each transformation object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>f</strong> : string path to file or file handle</p>
<blockquote>
<div><p>File to be read from</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">New instance of cls, deserialized from the passed file</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="thunder.RegistrationModel.save">
<tt class="descname">save</tt><big>(</big><em>f</em>, <em>numpyStorage='auto'</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#thunder.RegistrationModel.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Serialize this object to a JSON file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>f: string path to file or open writable file handle</strong></p>
<blockquote>
<div><p>The file to write to. A passed handle will be left open for further writing.</p>
</div></blockquote>
<p><strong>**kwargs: other keyword arguments</strong></p>
<blockquote class="last">
<div><p>Additional keyword arguments to be passed on to json.dumps().</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="thunder.RegistrationModel.serialize">
<tt class="descname">serialize</tt><big>(</big><em>numpyStorage='auto'</em><big>)</big><a class="headerlink" href="#thunder.RegistrationModel.serialize" title="Permalink to this definition">¶</a></dt>
<dd><p>Serialize this object to a python dictionary that can easily be converted
to/from JSON using Python&#8217;s standard JSON library.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>numpyStorage: {&#8216;auto&#8217;, &#8216;ascii&#8217;, &#8216;base64&#8217; }, optional, default &#8216;auto&#8217;</strong></p>
<blockquote>
<div><p>Use to select whether numpy arrays will be encoded in ASCII (as
a list of lists) in Base64 (i.e. space efficient binary), or to
select automatically (the default) depending on the size of the
array. Currently the Base64 encoding is selected if the array
has more than 1000 elements.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The object encoded as a python dictionary with &#8220;JSON-safe&#8221; datatypes that is ready to</p>
<p>be converted to a string using Python&#8217;s standard JSON library (or another library of</p>
<p class="last">your choice).</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="thunder.RegistrationModel.toArray">
<tt class="descname">toArray</tt><big>(</big><big>)</big><a class="headerlink" href="#thunder.RegistrationModel.toArray" title="Permalink to this definition">¶</a></dt>
<dd><p>Return transformations as an array with shape (n,x1,x2,...)
where n is the number of images, and remaining dimensions depend
on the particular transformations</p>
</dd></dl>

<dl class="method">
<dt id="thunder.RegistrationModel.toJSON">
<tt class="descname">toJSON</tt><big>(</big><em>numpyStorage='auto'</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#thunder.RegistrationModel.toJSON" title="Permalink to this definition">¶</a></dt>
<dd><p>Serialize this object to a JSON-formatted string</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>numpyStorage: numpyStorage: {&#8216;auto&#8217;, &#8216;ascii&#8217;, &#8216;base64&#8217; }, optional, default &#8216;auto&#8217;</strong></p>
<blockquote>
<div><p>See serialize().</p>
</div></blockquote>
<p><strong>**kwargs: other keyword arguments</strong></p>
<blockquote>
<div><p>Additional keyword arguments to be passed on to json.dumps().</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">JSON string representation of this object</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="thunder.RegistrationModel.transform">
<tt class="descname">transform</tt><big>(</big><em>images</em><big>)</big><a class="headerlink" href="#thunder.RegistrationModel.transform" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply the transformation to an Images object.</p>
<p>Will apply the underlying dictionary of transformations to
the images or volumes of the Images object. The dictionary acts as a lookup
table specifying which transformation should be applied to which record of the
Images object based on the key. Because transformations are small,
we broadcast the transformations rather than using a join.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<dl class="last docutils">
<dt><a class="reference internal" href="thunder.Registration.html#thunder.Registration" title="thunder.Registration"><tt class="xref py py-obj docutils literal"><span class="pre">Registration</span></tt></a></dt>
<dd>construct registration algorithms</dd>
</dl>
</div>
</dd></dl>

</dd></dl>

</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
        <br/>
        
<div id="sourcelink">
  <a href="../_sources/generated/thunder.RegistrationModel.txt"
     rel="nofollow">Source</a>
</div>
      
    </p>
    <p>
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.2.3.<br/>
    </p>
  </div>
</footer>
  </body>
</html>